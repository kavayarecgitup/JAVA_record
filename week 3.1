import java.util.Scanner;

public class prog{
    public static void main(String[] args){
        
        
        Scanner scan=new Scanner(System.in);
        int n=scan.nextInt();
        int[] arr=new int[n];
        for(int i=0;i<n;i++){
            arr[i]=scan.nextInt();
        }
        
        
        int maxLen=0,maxsum=0,currLen=0,currsum=0;
        boolean haspos=false;
        for(int i=0;i<n;i++){
            if(arr[i]>=0){
                haspos=true;
                currLen++;
                currsum+=arr[i];
            }
            else{
                if(currLen>maxLen){
                        maxLen=currLen;
                        maxsum=currsum;
               }
                else if(currLen==maxLen){
                        maxsum+=currsum;
                } 
                    
            currLen=0;
            currsum=0;
            }}
            if(currLen>maxLen){
                maxsum=currsum;
            }
            else if(currLen==maxLen){
                maxsum+=currsum;
            }
            int finalResult=haspos?maxsum:-1;
            System.out.print(finalResult);
        }
    }
